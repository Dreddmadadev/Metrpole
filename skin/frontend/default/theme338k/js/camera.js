!function(ya){ya.fn.camera=function(j,a){function Q(){if(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i))return!0}j=ya.extend({},{alignment:"center",autoAdvance:!0,mobileAutoAdvance:!0,barDirection:"leftToRight",barPosition:"bottom",cols:6,easing:"easeInOutExpo",mobileEasing:"",fx:"random",mobileFx:"",gridDifference:250,height:"50%",imagePath:"images/",hover:!0,loader:"pie",loaderColor:"#eeeeee",loaderBgColor:"#222222",loaderOpacity:.8,loaderPadding:2,loaderStroke:7,minHeight:"200px",navigation:!0,navigationHover:!0,mobileNavHover:!0,opacityOnGrid:!1,overlayer:!0,pagination:!0,playPause:!0,pauseOnClick:!0,pieDiameter:38,piePosition:"rightTop",portrait:!1,rows:4,slicedCols:12,slicedRows:8,slideOn:"random",thumbnails:!1,time:7e3,transPeriod:150,onEndTransition:function(){},onLoaded:function(){},onStartLoading:function(){},onStartTransition:function(){}},j);var N=ya(this).addClass("camera_wrap");N.wrapInner('<div class="camera_src" />').wrapInner('<div class="camera_fakehover" />');var G,J=ya(".camera_fakehover",N);J.append('<div class="camera_target"></div>'),1==j.overlayer&&J.append('<div class="camera_overlayer"></div>'),J.append('<div class="camera_target_content"></div>'),"pie"==(G="pie"==j.loader&&ya.browser.msie&&ya.browser.version<9?"bar":j.loader)?J.append('<div class="camera_pie"></div>'):"bar"==G?J.append('<div class="camera_bar"></div>'):J.append('<div class="camera_bar" style="display:none"></div>'),1==j.playPause&&J.append('<div class="camera_commands"></div>'),1==j.navigation&&J.append('<div class="camera_prev"><span></span></div>').append('<div class="camera_next"><span></span></div>'),1==j.thumbnails&&N.append('<div class="camera_thumbs_cont" />'),1==j.thumbnails&&1!=j.pagination&&ya(".camera_thumbs_cont",N).wrap("<div />").wrap('<div class="camera_thumbs" />').wrap("<div />").wrap('<div class="camera_command_wrap" />'),1==j.pagination&&N.append('<div class="camera_pag"></div>'),N.append('<div class="camera_loader"></div>'),ya(".camera_caption",N).each(function(){ya(this).wrapInner("<div />")});var K="pie_"+N.index(),U=ya(".camera_src",N),V=ya(".camera_target",N),e=ya(".camera_target_content",N),t=ya(".camera_pie",N),i=ya(".camera_bar",N),r=ya(".camera_prev",N),o=ya(".camera_next",N),s=ya(".camera_commands",N),X=ya(".camera_pag",N),Y=ya(".camera_thumbs_cont",N),Z=new Array;ya("> div",U).each(function(){Z.push(ya(this).attr("data-src"))});var n=new Array;ya("> div",U).each(function(){ya(this).attr("data-link")?n.push(ya(this).attr("data-link")):n.push("")});var c=new Array;ya("> div",U).each(function(){ya(this).attr("data-target")?c.push(ya(this).attr("data-target")):c.push("")});var $=new Array;ya("> div",U).each(function(){ya(this).attr("data-portrait")?$.push(ya(this).attr("data-portrait")):$.push("")});var aa=new Array;ya("> div",U).each(function(){ya(this).attr("data-alignment")?aa.push(ya(this).attr("data-alignment")):aa.push("")});var l=new Array;ya("> div",U).each(function(){ya(this).attr("data-thumb")?l.push(ya(this).attr("data-thumb")):l.push("")});var m,ea=Z.length;for(ya(e).append('<div class="cameraContents" />'),m=0;m<ea;m++)if(ya(".cameraContents",e).append('<div class="cameraContent" />'),""!=n[m]){var d=ya("> div ",U).eq(m).attr("data-box");d=void 0!==d&&!1!==d&&""!=d?'data-box="'+ya("> div ",U).eq(m).attr("data-box")+'"':"",ya(".camera_target_content .cameraContent:eq("+m+")",N).append('<a class="camera_link" href="'+n[m]+'" '+d+' target="'+c[m]+'"></a>')}ya(".camera_caption",N).each(function(){var a=ya(this).parent().index(),e=N.find(".cameraContent").eq(a);ya(this).appendTo(e)}),V.append('<div class="cameraCont" />');var h,p,ta=ya(".cameraCont",N);for(h=0;h<ea;h++){ta.append('<div class="cameraSlide cameraSlide_'+h+'" />');var f=ya("> div:eq("+h+")",U);V.find(".cameraSlide_"+h).clone(f)}function g(){var o=ya(Y).width();ya("li",Y).removeClass("camera_visThumb"),ya("li",Y).each(function(){var a=ya(this).position(),e=ya("ul",Y).outerWidth(),t=ya("ul",Y).offset().left,i=ya("> div",Y).offset().left-t;0<i?ya(".camera_prevThumbs",da).removeClass("hideNav"):ya(".camera_prevThumbs",da).addClass("hideNav"),o<e-i?ya(".camera_nextThumbs",da).removeClass("hideNav"):ya(".camera_nextThumbs",da).addClass("hideNav");var r=a.left;a.left+ya(this).width()-i<=o&&0<=r-i&&ya(this).addClass("camera_visThumb")})}ya(window).bind("load resize pageshow",function(){va(),g()}),ta.append('<div class="cameraSlide cameraSlide_'+h+'" />'),N.show();var u,ia,ra,v,b,_,oa,sa=V.width(),na=V.height();function ca(){var a;clearTimeout(a),a=setTimeout(function(){sa=N.width();var a=400;if(jQuery(window).width()<760&&(a=0==(e=jQuery(".camera_caption.fadeIn .slider_holder").height())?jQuery(".camera_target_content").height():400+e-52),N.css({height:a}),-1!=j.height.indexOf("%")){var e,t=Math.round(sa/(100/parseFloat(j.height)));a=na=""!=j.minHeight&&t<parseFloat(j.minHeight)?parseFloat(j.minHeight):t,jQuery(window).width()<760&&(a=0==(e=jQuery(".camera_caption.fadeIn .slider_holder").height())?jQuery(".camera_target_content").height():400+e-52),N.css({height:a})}else"auto"==j.height?na=N.height():(na=parseFloat(j.height),N.css({height:a}));ya(".camerarelative",V).css({width:sa,height:na}),ya(".imgLoaded",V).each(function(){var a,e,t=ya(this),i=t.attr("width"),r=t.attr("height"),o=(t.index(),t.attr("data-alignment")),s=t.attr("data-portrait");if(void 0!==o&&!1!==o&&""!==o||(o=j.alignment),void 0!==s&&!1!==s&&""!==s||(s=j.portrait),0==s||"false"==s)if(i/r<sa/na){var n=sa/i,c=.5*Math.abs(na-r*n);switch(o){case"topLeft":case"topCenter":case"topRight":a=0;break;case"centerLeft":case"center":case"centerRight":a="-"+c+"px";break;case"bottomLeft":case"bottomCenter":case"bottomRight":a="-"+2*c+"px"}t.css({height:r*n,"margin-left":0,"margin-top":a,position:"absolute",visibility:"visible",width:sa})}else{switch(n=na/r,c=.5*Math.abs(sa-i*n),o){case"topLeft":e=0;break;case"topCenter":e="-"+c+"px";break;case"topRight":e="-"+2*c+"px";break;case"centerLeft":e=0;break;case"center":e="-"+c+"px";break;case"centerRight":e="-"+2*c+"px";break;case"bottomLeft":e=0;break;case"bottomCenter":e="-"+c+"px";break;case"bottomRight":e="-"+2*c+"px"}t.css({height:na,"margin-left":e,"margin-top":0,position:"absolute",visibility:"visible",width:i*n})}else if(i/r<sa/na){switch(n=na/r,c=.5*Math.abs(sa-i*n),o){case"topLeft":e=0;break;case"topCenter":e=c+"px";break;case"topRight":e=2*c+"px";break;case"centerLeft":e=0;break;case"center":e=c+"px";break;case"centerRight":e=2*c+"px";break;case"bottomLeft":e=0;break;case"bottomCenter":e=c+"px";break;case"bottomRight":e=2*c+"px"}t.css({height:na,"margin-left":e,"margin-top":0,position:"absolute",visibility:"visible",width:i*n})}else{switch(n=sa/i,c=.5*Math.abs(na-r*n),o){case"topLeft":case"topCenter":case"topRight":a=0;break;case"centerLeft":case"center":case"centerRight":a=c+"px";break;case"bottomLeft":case"bottomCenter":case"bottomRight":a=2*c+"px"}t.css({height:r*n,"margin-left":0,"margin-top":a,position:"absolute",visibility:"visible",width:sa})}})},200),p=!0}if(ya(window).bind("resize pageshow",function(){1==p&&ca(),ya("ul",Y).animate({"margin-top":0},0,va),U.hasClass("paused")||(U.addClass("paused"),ya(".camera_stop",da).length&&(ya(".camera_stop",da).hide(),ya(".camera_play",da).show()),"none"!=G&&ya("#"+K).hide(),clearTimeout(u),u=setTimeout(function(){U.removeClass("paused"),ya(".camera_play",da).length&&(ya(".camera_play",da).hide(),ya(".camera_stop",da).show()),"none"!=G&&ya("#"+K).fadeIn()},1500))}),0==(v=Q()&&""!=j.mobileAutoAdvance?j.mobileAutoAdvance:j.autoAdvance)&&U.addClass("paused"),b=Q()&&""!=j.mobileNavHover?j.mobileNavHover:j.navigationHover,0!=U.length){var la=ya(".cameraSlide",V);la.wrapInner('<div class="camerarelative" />');var ma=j.barDirection,da=N;function ha(){ya("iframe",J).each(function(){ya(".camera_caption",J).show();var a=ya(this),e=a.attr("data-src");a.attr("src",e);var t=j.imagePath+"blank.gif",i=new Image;if(i.src=t,-1!=j.height.indexOf("%")){var r=Math.round(sa/(100/parseFloat(j.height)));na=""!=j.minHeight&&r<parseFloat(j.minHeight)?parseFloat(j.minHeight):r}else na="auto"==j.height?N.height():parseFloat(j.height);a.after(ya(i).attr({class:"imgFake",width:sa,height:na}));var o=a.clone();a.remove(),ya(i).bind("click",function(){"absolute"==ya(this).css("position")?(ya(this).remove(),-1!=e.indexOf("vimeo")||-1!=e.indexOf("youtube")?-1!=e.indexOf("?")?autoplay="&autoplay=1":autoplay="?autoplay=1":-1!=e.indexOf("dailymotion")&&(-1!=e.indexOf("?")?autoplay="&autoPlay=1":autoplay="?autoPlay=1"),o.attr("src",e+autoplay),oa=!0):(ya(this).css({position:"absolute",top:0,left:0,zIndex:10}).after(o),o.css({position:"absolute",top:0,left:0,zIndex:9}))})})}ya("iframe",J).each(function(){var a=ya(this),e=a.attr("src");a.attr("data-src",e);var t=a.parent().index(".camera_src > div");ya(".camera_target_content .cameraContent:eq("+t+")",N).append(a)}),ha(),1==j.hover&&(Q()||J.hover(function(){U.addClass("hovered")},function(){U.removeClass("hovered")})),1==b&&(ya(r,N).animate({opacity:0},0),ya(o,N).animate({opacity:0},0),ya(s,N).animate({opacity:0},0),Q()?(J.live("vmouseover",function(){ya(r,N).animate({opacity:1},200),ya(o,N).animate({opacity:1},200),ya(s,N).animate({opacity:1},200)}),J.live("vmouseout",function(){ya(r,N).delay(500).animate({opacity:0},200),ya(o,N).delay(500).animate({opacity:0},200),ya(s,N).delay(500).animate({opacity:0},200)})):J.hover(function(){ya(r,N).animate({opacity:1},200),ya(o,N).animate({opacity:1},200),ya(s,N).animate({opacity:1},200)},function(){ya(r,N).animate({opacity:0},200),ya(o,N).animate({opacity:0},200),ya(s,N).animate({opacity:0},200)})),ya(".camera_stop",da).live("click",function(){v=!1,U.addClass("paused"),ya(".camera_stop",da).length&&(ya(".camera_stop",da).hide(),ya(".camera_play",da).show()),"none"!=G&&ya("#"+K).hide()}),ya(".camera_play",da).live("click",function(){v=!0,U.removeClass("paused"),ya(".camera_play",da).length&&(ya(".camera_play",da).hide(),ya(".camera_stop",da).show()),"none"!=G&&ya("#"+K).show()}),1==j.pauseOnClick&&ya(".camera_target_content",J).mouseup(function(){v=!1,U.addClass("paused"),ya(".camera_stop",da).hide(),ya(".camera_play",da).show(),ya("#"+K).hide()}),ya(".cameraContent, .imgFake",J).hover(function(){_=!0},function(){_=!1}),ya(".cameraContent, .imgFake",J).bind("click",function(){1==oa&&1==_&&(v=!1,ya(".camera_caption",J).hide(),U.addClass("paused"),ya(".camera_stop",da).hide(),ya(".camera_play",da).show(),ya("#"+K).hide())})}function pa(a){for(var e,t,i=a.length;i;e=parseInt(Math.random()*i),t=a[--i],a[i]=a[e],a[e]=t);return a}if("pie"!=G){switch(i.append('<span class="camera_bar_cont" />'),ya(".camera_bar_cont",i).animate({opacity:j.loaderOpacity},0).css({position:"absolute",left:0,right:0,top:0,bottom:0,"background-color":j.loaderBgColor}).append('<span id="'+K+'" />'),ya("#"+K).animate({opacity:0},0),(y=ya("#"+K)).css({position:"absolute","background-color":j.loaderColor}),j.barPosition){case"left":i.css({right:"auto",width:j.loaderStroke});break;case"right":i.css({left:"auto",width:j.loaderStroke});break;case"top":i.css({bottom:"auto",height:j.loaderStroke});break;case"bottom":i.css({top:"auto",height:j.loaderStroke})}switch(ma){case"leftToRight":case"rightToLeft":y.css({left:0,right:0,top:j.loaderPadding,bottom:j.loaderPadding});break;case"topToBottom":case"bottomToTop":y.css({left:j.loaderPadding,right:j.loaderPadding,top:0,bottom:0})}}else{var y,w,fa,ga;switch(t.append('<canvas id="'+K+'"></canvas>'),(y=document.getElementById(K)).setAttribute("width",j.pieDiameter),y.setAttribute("height",j.pieDiameter),j.piePosition){case"leftTop":w="left:0; top:0;";break;case"rightTop":w="right:0; top:0;";break;case"leftBottom":w="left:0; bottom:0;";break;case"rightBottom":w="right:0; bottom:0;"}if(y.setAttribute("style","position:absolute; z-index:1002; "+w),y&&y.getContext){var ua=y.getContext("2d");ua.rotate(1.5*Math.PI),ua.translate(-j.pieDiameter,0)}}if("none"!=G&&0!=v||(ya("#"+K).hide(),ya(".camera_canvas_wrap",da).hide()),ya(X).length){var C;for(ya(X).append('<ul class="camera_pag_ul" />'),C=0;C<ea;C++)ya(".camera_pag_ul",N).append('<li class="pag_nav_'+C+'" style="position:relative; z-index:1002"><span><span>'+C+"</span></span></li>");ya(".camera_pag_ul li",N).hover(function(){if(ya(this).addClass("camera_hover"),ya(".camera_thumb",this).length){var a=ya(".camera_thumb",this).outerWidth(),e=ya(".camera_thumb",this).outerHeight(),t=ya(this).outerWidth();ya(".camera_thumb",this).show().css({top:"-"+e+"px",left:"-"+(a-t)/2+"px"}).animate({opacity:1,"margin-top":"-3px"},200),ya(".thumb_arrow",this).show().animate({opacity:1,"margin-top":"-3px"},200)}},function(){ya(this).removeClass("camera_hover"),ya(".camera_thumb",this).animate({"margin-top":"-20px",opacity:0},200,function(){ya(this).css({marginTop:"5px"}).hide()}),ya(".thumb_arrow",this).animate({"margin-top":"-20px",opacity:0},200,function(){ya(this).css({marginTop:"5px"}).hide()})})}ya(Y).length?ya(X).length?(ya.each(l,function(a,e){if(""!=ya("> div",U).eq(a).attr("data-thumb")){var t=ya("> div",U).eq(a).attr("data-thumb"),i=new Image;i.src=t,ya("li.pag_nav_"+a,X).append(ya(i).attr("class","camera_thumb").css({position:"absolute"}).animate({opacity:0},0)),ya("li.pag_nav_"+a+" > img",X).after('<div class="thumb_arrow" />'),ya("li.pag_nav_"+a+" > .thumb_arrow",X).animate({opacity:0},0)}}),N.css({marginBottom:ya(X).outerHeight()})):(ya(Y).append("<div />"),ya(Y).before('<div class="camera_prevThumbs hideNav"><div></div></div>').before('<div class="camera_nextThumbs hideNav"><div></div></div>'),ya("> div",Y).append("<ul />"),ya.each(l,function(a,e){if(""!=ya("> div",U).eq(a).attr("data-thumb")){var t=ya("> div",U).eq(a).attr("data-thumb"),i=new Image;i.src=t,ya("ul",Y).append('<li class="pix_thumb pix_thumb_'+a+'" />'),ya("li.pix_thumb_"+a,Y).append(ya(i).attr("class","camera_thumb"))}})):!ya(Y).length&&ya(X).length&&N.css({marginBottom:ya(X).outerHeight()});var x=!0;function va(){if(ya(Y).length&&!ya(X).length){var a,e=ya(Y).outerWidth(),t=(ya("ul > li",Y).outerWidth(),ya("li.cameracurrent",Y).length?ya("li.cameracurrent",Y).position():""),i=ya("ul > li",Y).length*ya("ul > li",Y).outerWidth(),r=ya("ul",Y).offset().left,o=ya("> div",Y).offset().left;a=r<0?"-"+(o-r):o-r,1==x&&(ya("ul",Y).width(ya("ul > li",Y).length*ya("ul > li",Y).outerWidth()),ya(Y).length&&!ya(X).lenght&&N.css({marginBottom:ya(Y).outerHeight()}),g(),ya("ul",Y).width(ya("ul > li",Y).length*ya("ul > li",Y).outerWidth()),ya(Y).length&&!ya(X).lenght&&N.css({marginBottom:ya(Y).outerHeight()})),x=!1;var s=ya("li.cameracurrent",Y).length?t.left:"",n=ya("li.cameracurrent",Y).length?t.left+ya("li.cameracurrent",Y).outerWidth():"";s<ya("li.cameracurrent",Y).outerWidth()&&(s=0),e<n-a?s+e<i?ya("ul",Y).animate({"margin-left":"-"+s+"px"},500,g):ya("ul",Y).animate({"margin-left":"-"+(ya("ul",Y).outerWidth()-e)+"px"},500,g):s-a<0?ya("ul",Y).animate({"margin-left":"-"+s+"px"},500,g):(ya("ul",Y).css({"margin-left":"auto","margin-right":"auto"}),setTimeout(g,100))}}function ba(){fa=0;var a=ya(".camera_bar_cont",da).width(),e=ya(".camera_bar_cont",da).height();if("pie"!=G)switch(ma){case"leftToRight":ya("#"+K).css({right:a});break;case"rightToLeft":ya("#"+K).css({left:a});break;case"topToBottom":ya("#"+K).css({bottom:e});break;case"bottomToTop":ya("#"+K).css({top:e})}else ua.clearRect(0,0,j.pieDiameter,j.pieDiameter)}function _a(a){U.addClass("camerasliding"),oa=!1;var o=parseFloat(ya("div.cameraSlide.cameracurrent",V).index());if(0<a)var c=a-1;else if(o==ea-1)c=0;else c=o+1;var e=ya(".cameraSlide:eq("+c+")",V),t=ya(".cameraSlide:eq("+(c+1)+")",V).addClass("cameranext");if(o!=c+1&&t.hide(),ya(".cameraContent",J).fadeOut(600),ya(".camera_caption",J).show(),ya(".camerarelative",e).append(ya("> div ",U).eq(c).find("> div.camera_effected")),ya(".camera_target_content .cameraContent:eq("+c+")",N).append(ya("> div ",U).eq(c).find("> div")),ya(".imgLoaded",e).length){if(Z.length>c+1&&!ya(".imgLoaded",t).length){var i=Z[c+1],r=new Image;r.src=i+"?"+(new Date).getTime(),t.prepend(ya(r).attr("class","imgLoaded").css("visibility","hidden")),r.onload=function(){W=r.naturalWidth,D=r.naturalHeight,ya(r).attr("data-alignment",aa[c+1]).attr("data-portrait",$[c+1]),ya(r).attr("width",W),ya(r).attr("height",D),ca()}}j.onLoaded.call(this),ya(".camera_loader",N).is(":visible")?ya(".camera_loader",N).fadeOut(400):(ya(".camera_loader",N).css({visibility:"hidden"}),ya(".camera_loader",N).fadeOut(400,function(){ya(".camera_loader",N).css({visibility:"visible"})}));var s,l,n,m,d,h=j.rows,p=j.cols,f=1,g=0,u=new Array("simpleFade","curtainTopLeft","curtainTopRight","curtainBottomLeft","curtainBottomRight","curtainSliceLeft","curtainSliceRight","blindCurtainTopLeft","blindCurtainTopRight","blindCurtainBottomLeft","blindCurtainBottomRight","blindCurtainSliceBottom","blindCurtainSliceTop","stampede","mosaic","mosaicReverse","mosaicRandom","mosaicSpiral","mosaicSpiralReverse","topLeftBottomRight","bottomRightTopLeft","bottomLeftTopRight","topRightBottomLeft","scrollLeft","scrollRight","scrollTop","scrollBottom","scrollHorz");marginLeft=0,marginTop=0,opacityOnGrid=0,1==j.opacityOnGrid?opacityOnGrid=0:opacityOnGrid=1;var v=ya(" > div",U).eq(c).attr("data-fx");if("random"==(m=Q()&&""!=j.mobileFx&&"default"!=j.mobileFx?j.mobileFx:void 0!==v&&!1!==v&&"default"!==v?v:j.fx)?m=(m=pa(u))[0]:0<(m=m).indexOf(",")&&(m=(m=pa(m=(m=m.replace(/ /g,"")).split(",")))[0]),dataEasing=ya(" > div",U).eq(c).attr("data-easing"),mobileEasing=ya(" > div",U).eq(c).attr("data-mobileEasing"),d=Q()&&""!=j.mobileEasing&&"default"!=j.mobileEasing?"undefined"!=typeof mobileEasing&&!1!==mobileEasing&&"default"!==mobileEasing?mobileEasing:j.mobileEasing:"undefined"!=typeof dataEasing&&!1!==dataEasing&&"default"!==dataEasing?dataEasing:j.easing,void 0!==(s=ya(" > div",U).eq(c).attr("data-slideOn"))&&!1!==s)b=s;else if("random"==j.slideOn){var b=new Array("next","prev");b=(b=pa(b))[0]}else b=j.slideOn;var _=ya(" > div",U).eq(c).attr("data-time");l=void 0!==_&&!1!==_&&""!==_?parseFloat(_):j.time;var y=ya(" > div",U).eq(c).attr("data-transPeriod");switch(n=void 0!==y&&!1!==y&&""!==y?parseFloat(y):j.transPeriod,ya(U).hasClass("camerastarted")||(m="simpleFade",b="next",d="",n=400,ya(U).addClass("camerastarted")),m){case"simpleFade":h=p=1;break;case"curtainTopLeft":case"curtainTopRight":case"curtainBottomLeft":case"curtainBottomRight":case"curtainSliceLeft":case"curtainSliceRight":p=0==j.slicedCols?j.cols:j.slicedCols,h=1;break;case"blindCurtainTopLeft":case"blindCurtainTopRight":case"blindCurtainBottomLeft":case"blindCurtainBottomRight":case"blindCurtainSliceTop":case"blindCurtainSliceBottom":h=0==j.slicedRows?j.rows:j.slicedRows,p=1;break;case"stampede":g="-"+n;break;case"mosaic":case"mosaicReverse":g=j.gridDifference;break;case"mosaicRandom":break;case"mosaicSpiral":case"mosaicSpiralReverse":g=j.gridDifference,f=1.7;break;case"topLeftBottomRight":case"bottomRightTopLeft":case"bottomLeftTopRight":case"topRightBottomLeft":g=j.gridDifference,f=6;break;case"scrollLeft":case"scrollRight":case"scrollTop":case"scrollBottom":case"scrollHorz":h=p=1}for(var w,C,x=0,k=h*p,T=sa-Math.floor(sa/p)*p,L=na-Math.floor(na/h)*h,R=0,F=0,S=new Array,B=new Array,M=new Array;x<k;){S.push(x),B.push(x),ta.append('<div class="cameraappended" style="display:none; overflow:hidden; position:absolute; z-index:1000" />');var O=ya(".cameraappended:eq("+x+")",V);"scrollLeft"==m||"scrollRight"==m||"scrollTop"==m||"scrollBottom"==m||"scrollHorz"==m?la.eq(c).clone().show().appendTo(O):"next"==b?la.eq(c).clone().show().appendTo(O):la.eq(o).clone().show().appendTo(O),w=x%p<T?1:0,x%p==0&&(R=0),C=Math.floor(x/p)<L?1:0,O.css({height:Math.floor(na/h+C+1),left:R,top:F,width:Math.floor(sa/p+w+1)}),ya("> .cameraSlide",O).css({height:na,"margin-left":"-"+R+"px","margin-top":"-"+F+"px",width:sa}),R=R+O.width()-1,x%p==p-1&&(F=F+O.height()-1),x++}switch(m){case"curtainTopLeft":case"curtainBottomLeft":case"curtainSliceLeft":break;case"curtainTopRight":case"curtainBottomRight":case"curtainSliceRight":S=S.reverse();break;case"blindCurtainTopLeft":break;case"blindCurtainBottomLeft":S=S.reverse();break;case"blindCurtainSliceTop":case"blindCurtainTopRight":break;case"blindCurtainBottomRight":case"blindCurtainSliceBottom":S=S.reverse();break;case"stampede":S=pa(S);break;case"mosaic":break;case"mosaicReverse":S=S.reverse();break;case"mosaicRandom":S=pa(S);break;case"mosaicSpiral":var q=h/2,I=0;for(H=0;H<q;H++){for(P=A=H;P<p-H-1;P++)M[I++]=A*p+P;for(P=p-H-1,A=H;A<h-H-1;A++)M[I++]=A*p+P;for(A=h-H-1,P=p-H-1;H<P;P--)M[I++]=A*p+P;for(A=h-(P=H)-1;H<A;A--)M[I++]=A*p+P}S=M;break;case"mosaicSpiralReverse":var H;q=h/2,I=k-1;for(H=0;H<q;H++){for(P=A=H;P<p-H-1;P++)M[I--]=A*p+P;for(P=p-H-1,A=H;A<h-H-1;A++)M[I--]=A*p+P;for(A=h-H-1,P=p-H-1;H<P;P--)M[I--]=A*p+P;for(A=h-(P=H)-1;H<A;A--)M[I--]=A*p+P}S=M;break;case"topLeftBottomRight":for(var A=0;A<h;A++)for(var P=0;P<p;P++)M.push(P+A);B=M;break;case"bottomRightTopLeft":for(A=0;A<h;A++)for(P=0;P<p;P++)M.push(P+A);B=M.reverse();break;case"bottomLeftTopRight":for(A=h;0<A;A--)for(P=0;P<p;P++)M.push(P+A);B=M;break;case"topRightBottomLeft":for(A=0;A<h;A++)for(P=p;0<P;P--)M.push(P+A);B=M}ya.each(S,function(a,e){switch(w=e%p<T?1:0,e%p==0&&(R=0),C=Math.floor(e/p)<L?1:0,m){case"simpleFade":height=na,width=sa,opacityOnGrid=0;break;case"curtainTopLeft":case"curtainTopRight":height=0,width=Math.floor(sa/p+w+1),marginTop="-"+Math.floor(na/h+C+1)+"px";break;case"curtainBottomLeft":case"curtainBottomRight":height=0,width=Math.floor(sa/p+w+1),marginTop=Math.floor(na/h+C+1)+"px";break;case"curtainSliceLeft":case"curtainSliceRight":height=0,width=Math.floor(sa/p+w+1),marginTop=e%2==0?Math.floor(na/h+C+1)+"px":"-"+Math.floor(na/h+C+1)+"px";break;case"blindCurtainTopLeft":height=Math.floor(na/h+C+1),width=0,marginLeft="-"+Math.floor(sa/p+w+1)+"px";break;case"blindCurtainTopRight":height=Math.floor(na/h+C+1),width=0,marginLeft=Math.floor(sa/p+w+1)+"px";break;case"blindCurtainBottomLeft":height=Math.floor(na/h+C+1),width=0,marginLeft="-"+Math.floor(sa/p+w+1)+"px";break;case"blindCurtainBottomRight":height=Math.floor(na/h+C+1),width=0,marginLeft=Math.floor(sa/p+w+1)+"px";break;case"blindCurtainSliceBottom":case"blindCurtainSliceTop":height=Math.floor(na/h+C+1),width=0,marginLeft=e%2==0?"-"+Math.floor(sa/p+w+1)+"px":Math.floor(sa/p+w+1)+"px";break;case"stampede":height=0,width=0,marginLeft=.2*sa*(a%p-(p-Math.floor(p/2)))+"px",marginTop=.2*na*(Math.floor(a/p)+1-(h-Math.floor(h/2)))+"px";break;case"mosaic":height=0,width=0;break;case"mosaicReverse":height=0,width=0,marginLeft=Math.floor(sa/p+w+1)+"px",marginTop=Math.floor(na/h+C+1)+"px";break;case"mosaicRandom":case"mosaicSpiral":case"mosaicSpiralReverse":height=0,width=0,marginLeft=.5*Math.floor(sa/p+w+1)+"px",marginTop=.5*Math.floor(na/h+C+1)+"px";break;case"topLeftBottomRight":height=0,width=0;break;case"bottomRightTopLeft":height=0,width=0,marginLeft=Math.floor(sa/p+w+1)+"px",marginTop=Math.floor(na/h+C+1)+"px";break;case"bottomLeftTopRight":height=0,width=0,marginLeft=0,marginTop=Math.floor(na/h+C+1)+"px";break;case"topRightBottomLeft":height=0,width=0,marginLeft=Math.floor(sa/p+w+1)+"px",marginTop=0;break;case"scrollRight":height=na,width=sa,marginLeft=-sa;break;case"scrollLeft":height=na,width=sa,marginLeft=sa;break;case"scrollTop":height=na,width=sa,marginTop=na;break;case"scrollBottom":height=na,width=sa,marginTop=-na;break;case"scrollHorz":height=na,width=sa,marginLeft=0==o&&c==ea-1?-sa:o<c||o==ea-1&&0==c?sa:-sa}var t=ya(".cameraappended:eq("+e+")",V);void 0!==ia&&(clearInterval(ia),clearTimeout(ra),ra=setTimeout(ba,n+g)),ya(X).length&&(ya(".camera_pag li",N).removeClass("cameracurrent"),ya(".camera_pag li",N).eq(c).addClass("cameracurrent")),ya(Y).length&&(ya("li",Y).removeClass("cameracurrent"),ya("li",Y).eq(c).addClass("cameracurrent"),ya("li",Y).not(".cameracurrent").find("img").animate({opacity:.5},0),ya("li.cameracurrent img",Y).animate({opacity:1},0),ya("li",Y).hover(function(){ya("img",this).stop(!0,!1).animate({opacity:1},150)},function(){ya(this).hasClass("cameracurrent")||ya("img",this).stop(!0,!1).animate({opacity:.5},150)}));var i=parseFloat(n)+parseFloat(g);function r(){if(ya(this).addClass("cameraeased"),0<=ya(".cameraeased",V).length&&ya(Y).css({visibility:"visible"}),ya(".cameraeased",V).length==k){va(),ya(".moveFromLeft, .moveFromRight, .moveFromTop, .moveFromBottom, .fadeIn, .fadeFromLeft, .fadeFromRight, .fadeFromTop, .fadeFromBottom",J).each(function(){ya(this).css("visibility","hidden")}),la.eq(c).show().css("z-index","999").removeClass("cameranext").addClass("cameracurrent"),la.eq(o).css("z-index","1").removeClass("cameracurrent"),ya(".cameraContent",J).eq(c).addClass("cameracurrent"),0<=o&&ya(".cameraContent",J).eq(o).removeClass("cameracurrent"),j.onEndTransition.call(this),"hide"!=ya("> div",U).eq(c).attr("data-video")&&ya(".cameraContent.cameracurrent .imgFake",J).length&&ya(".cameraContent.cameracurrent .imgFake",J).click();var n=la.eq(c).find(".fadeIn").length,s=ya(".cameraContent",J).eq(c).find(".moveFromLeft, .moveFromRight, .moveFromTop, .moveFromBottom, .fadeIn, .fadeFromLeft, .fadeFromRight, .fadeFromTop, .fadeFromBottom").length;0!=n&&ya(".cameraSlide.cameracurrent .fadeIn",J).each(function(){if(""!=ya(this).attr("data-easing"))var a=ya(this).attr("data-easing");else a=d;var e=ya(this);if(void 0===e.attr("data-outerWidth")||!1===e.attr("data-outerWidth")||""===e.attr("data-outerWidth")){var t=e.outerWidth();e.attr("data-outerWidth",t)}else t=e.attr("data-outerWidth");if(void 0===e.attr("data-outerHeight")||!1===e.attr("data-outerHeight")||""===e.attr("data-outerHeight")){var i=e.outerHeight();e.attr("data-outerHeight",i)}else i=e.attr("data-outerHeight");var r=e.position(),o=(r.left,r.top,e.attr("class")),s=e.index();e.parents(".camerarelative").outerHeight(),e.parents(".camerarelative").outerWidth();-1!=o.indexOf("fadeIn")?e.animate({opacity:0},0).css("visibility","visible").delay(l/n*(.1*(s-1))).animate({opacity:1},l/n*.15,a):e.css("visibility","visible")}),ya(".cameraContent.cameracurrent",J).show(),0!=s&&ya(".cameraContent.cameracurrent .moveFromLeft, .cameraContent.cameracurrent .moveFromRight, .cameraContent.cameracurrent .moveFromTop, .cameraContent.cameracurrent .moveFromBottom, .cameraContent.cameracurrent .fadeIn, .cameraContent.cameracurrent .fadeFromLeft, .cameraContent.cameracurrent .fadeFromRight, .cameraContent.cameracurrent .fadeFromTop, .cameraContent.cameracurrent .fadeFromBottom",J).each(function(){if(""!=ya(this).attr("data-easing"))var a=ya(this).attr("data-easing");else a=d;var e=ya(this),t=e.position(),i=(t.left,t.top,e.attr("class")),r=e.index(),o=e.outerHeight();-1!=i.indexOf("moveFromLeft")?(e.css({left:"-"+sa+"px",right:"auto"}),e.css("visibility","visible").delay(l/s*(.1*(r-1))).animate({left:t.left},l/s*.15,a)):-1!=i.indexOf("moveFromRight")?(e.css({left:sa+"px",right:"auto"}),e.css("visibility","visible").delay(l/s*(.1*(r-1))).animate({left:t.left},l/s*.15,a)):-1!=i.indexOf("moveFromTop")?(e.css({top:"-"+na+"px",bottom:"auto"}),e.css("visibility","visible").delay(l/s*(.1*(r-1))).animate({top:t.top},l/s*.15,a,function(){e.css({top:"auto",bottom:0})})):-1!=i.indexOf("moveFromBottom")?(e.css({top:na+"px",bottom:"auto"}),e.css("visibility","visible").delay(l/s*(.1*(r-1))).animate({top:t.top},l/s*.15,a)):-1!=i.indexOf("fadeFromLeft")?(e.animate({opacity:0},0).css({left:"-"+sa+"px",right:"auto"}),e.css("visibility","visible").delay(l/s*(.1*(r-1))).animate({left:t.left,opacity:1},l/s*.15,a)):-1!=i.indexOf("fadeFromRight")?(e.animate({opacity:0},0).css({left:sa+"px",right:"auto"}),e.css("visibility","visible").delay(l/s*(.1*(r-1))).animate({left:t.left,opacity:1},l/s*.15,a)):-1!=i.indexOf("fadeFromTop")?(e.animate({opacity:0},0).css({top:"-"+na+"px",bottom:"auto"}),e.css("visibility","visible").delay(l/s*(.1*(r-1))).animate({top:t.top,opacity:1},l/s*.15,a,function(){e.css({top:"auto",bottom:0})})):-1!=i.indexOf("fadeFromBottom")?(e.animate({opacity:0},0).css({bottom:"-"+o+"px"}),e.css("visibility","visible").delay(l/s*(.1*(r-1))).animate({bottom:"0",opacity:1},l/s*.15,a)):-1!=i.indexOf("fadeIn")?e.animate({opacity:0},0).css("visibility","visible").delay(l/s*(.1*(r-1))).animate({opacity:1},l/s*.15,a):e.css("visibility","visible")}),ya(".cameraappended",V).remove(),U.removeClass("camerasliding"),la.eq(o).hide();var a,e=ya(".camera_bar_cont",da).width(),t=ya(".camera_bar_cont",da).height();a="pie"!=G?.05:.005,ya("#"+K).animate({opacity:j.loaderOpacity},200),ia=setInterval(function(){if(U.hasClass("stopped")&&clearInterval(ia),"pie"!=G)switch(fa<=1.002&&!U.hasClass("stopped")&&!U.hasClass("paused")&&!U.hasClass("hovered")?fa+=a:fa<=1&&(U.hasClass("stopped")||U.hasClass("paused")||U.hasClass("stopped")||U.hasClass("hovered"))?fa=fa:U.hasClass("stopped")||U.hasClass("paused")||U.hasClass("hovered")||(clearInterval(ia),ha(),ya("#"+K).animate({opacity:0},200,function(){clearTimeout(ra),ra=setTimeout(ba,i),_a(),j.onStartLoading.call(this)})),ma){case"leftToRight":ya("#"+K).animate({right:e-e*fa},l*a,"linear");break;case"rightToLeft":ya("#"+K).animate({left:e-e*fa},l*a,"linear");break;case"topToBottom":case"bottomToTop":ya("#"+K).animate({bottom:t-t*fa},l*a,"linear")}else ga=fa,ua.clearRect(0,0,j.pieDiameter,j.pieDiameter),ua.globalCompositeOperation="destination-over",ua.beginPath(),ua.arc(j.pieDiameter/2,j.pieDiameter/2,j.pieDiameter/2-j.loaderStroke,0,2*Math.PI,!1),ua.lineWidth=j.loaderStroke,ua.strokeStyle=j.loaderBgColor,ua.stroke(),ua.closePath(),ua.globalCompositeOperation="source-over",ua.beginPath(),ua.arc(j.pieDiameter/2,j.pieDiameter/2,j.pieDiameter/2-j.loaderStroke,0,2*Math.PI*ga,!1),ua.lineWidth=j.loaderStroke-2*j.loaderPadding,ua.strokeStyle=j.loaderColor,ua.stroke(),ua.closePath(),fa<=1.002&&!U.hasClass("stopped")&&!U.hasClass("paused")&&!U.hasClass("hovered")?fa+=a:fa<=1&&(U.hasClass("stopped")||U.hasClass("paused")||U.hasClass("hovered"))?fa=fa:U.hasClass("stopped")||U.hasClass("paused")||U.hasClass("hovered")||(clearInterval(ia),ha(),ya("#"+K+", .camera_canvas_wrap",da).animate({opacity:0},200,function(){clearTimeout(ra),ra=setTimeout(ba,i),_a(),j.onStartLoading.call(this)}))},l*a)}}"scrollLeft"==m||"scrollRight"==m||"scrollTop"==m||"scrollBottom"==m||"scrollHorz"==m?(j.onStartTransition.call(this),i=0,t.delay((n+g)/k*B[a]*f*.5).css({display:"block",height:height,"margin-left":marginLeft,"margin-top":marginTop,width:width}).animate({height:Math.floor(na/h+C+1),"margin-top":0,"margin-left":0,width:Math.floor(sa/p+w+1)},n-g,d,r),la.eq(o).delay((n+g)/k*B[a]*f*.5).animate({"margin-left":-1*marginLeft,"margin-top":-1*marginTop},n-g,d,function(){ya(this).css({"margin-top":0,"margin-left":0})})):(j.onStartTransition.call(this),i=parseFloat(n)+parseFloat(g),"next"==b?t.delay((n+g)/k*B[a]*f*.5).css({display:"block",height:height,"margin-left":marginLeft,"margin-top":marginTop,width:width,opacity:opacityOnGrid}).animate({height:Math.floor(na/h+C+1),"margin-top":0,"margin-left":0,opacity:1,width:Math.floor(sa/p+w+1)},n-g,d,r):(la.eq(c).show().css("z-index","999").addClass("cameracurrent"),la.eq(o).css("z-index","1").removeClass("cameracurrent"),ya(".cameraContent",J).eq(c).addClass("cameracurrent"),ya(".cameraContent",J).eq(o).removeClass("cameracurrent"),t.delay((n+g)/k*B[a]*f*.5).css({display:"block",height:Math.floor(na/h+C+1),"margin-top":0,"margin-left":0,opacity:1,width:Math.floor(sa/p+w+1)}).animate({height:height,"margin-left":marginLeft,"margin-top":marginTop,width:width,opacity:opacityOnGrid},n-g,d,r)))})}else{var W,D,E=Z[c],z=new Image;z.src=E+"?"+(new Date).getTime(),e.css("visibility","hidden"),e.prepend(ya(z).attr("class","imgLoaded").css("visibility","hidden")),ya(z).get(0).complete&&"0"!=W&&"0"!=D&&void 0!==W&&!1!==W&&void 0!==D&&!1!==D||(ya(".camera_loader",N).delay(500).fadeIn(400),z.onload=function(){W=z.naturalWidth,D=z.naturalHeight,ya(z).attr("data-alignment",aa[c]).attr("data-portrait",$[c]),ya(z).attr("width",W),ya(z).attr("height",D),V.find(".cameraSlide_"+c).hide().css("visibility","visible"),ca(),_a(c+1)})}}ya(s).length&&(ya(s).append('<div class="camera_play"></div>').append('<div class="camera_stop"></div>'),1==v?(ya(".camera_play",da).hide(),ya(".camera_stop",da).show()):(ya(".camera_stop",da).hide(),ya(".camera_play",da).show())),ba(),ya(".moveFromLeft, .moveFromRight, .moveFromTop, .moveFromBottom, .fadeIn, .fadeFromLeft, .fadeFromRight, .fadeFromTop, .fadeFromBottom",J).each(function(){ya(this).css("visibility","hidden")}),j.onStartLoading.call(this),_a(),ya(r).length&&ya(r).click(function(){if(!U.hasClass("camerasliding")){var a=parseFloat(ya(".cameraSlide.cameracurrent",V).index());clearInterval(ia),ha(),ya("#"+K+", .camera_canvas_wrap",N).animate({opacity:0},0),ba(),_a(0!=a?a:ea),j.onStartLoading.call(this)}}),ya(o).length&&ya(o).click(function(){if(!U.hasClass("camerasliding")){var a=parseFloat(ya(".cameraSlide.cameracurrent",V).index());clearInterval(ia),ha(),ya("#"+K+", .camera_canvas_wrap",da).animate({opacity:0},0),ba(),_a(a==ea-1?1:a+2),j.onStartLoading.call(this)}}),Q()&&(J.bind("swipeleft",function(a){if(!U.hasClass("camerasliding")){var e=parseFloat(ya(".cameraSlide.cameracurrent",V).index());clearInterval(ia),ha(),ya("#"+K+", .camera_canvas_wrap",da).animate({opacity:0},0),ba(),_a(e==ea-1?1:e+2),j.onStartLoading.call(this)}}),J.bind("swiperight",function(a){if(!U.hasClass("camerasliding")){var e=parseFloat(ya(".cameraSlide.cameracurrent",V).index());clearInterval(ia),ha(),ya("#"+K+", .camera_canvas_wrap",da).animate({opacity:0},0),ba(),_a(0!=e?e:ea),j.onStartLoading.call(this)}})),ya(X).length&&ya(".camera_pag li",N).click(function(){if(!U.hasClass("camerasliding")){var a=parseFloat(ya(this).index());a!=parseFloat(ya(".cameraSlide.cameracurrent",V).index())&&(clearInterval(ia),ha(),ya("#"+K+", .camera_canvas_wrap",da).animate({opacity:0},0),ba(),_a(a+1),j.onStartLoading.call(this))}}),ya(Y).length&&(ya(".pix_thumb img",Y).click(function(){if(!U.hasClass("camerasliding")){var a=parseFloat(ya(this).parents("li").index());a!=parseFloat(ya(".cameracurrent",V).index())&&(clearInterval(ia),ha(),ya("#"+K+", .camera_canvas_wrap",da).animate({opacity:0},0),ya(".pix_thumb",Y).removeClass("cameracurrent"),ya(this).parents("li").addClass("cameracurrent"),ba(),_a(a+1),va(),j.onStartLoading.call(this))}}),ya(".camera_thumbs_cont .camera_prevThumbs",da).hover(function(){ya(this).stop(!0,!1).animate({opacity:1},250)},function(){ya(this).stop(!0,!1).animate({opacity:.7},250)}),ya(".camera_prevThumbs",da).click(function(){var e=0,a=(ya(Y).outerWidth(),ya("ul",Y).offset().left),t=ya("> div",Y).offset().left-a;ya(".camera_visThumb",Y).each(function(){var a=ya(this).outerWidth();e+=a}),0<t-e?ya("ul",Y).animate({"margin-left":"-"+(t-e)+"px"},500,g):ya("ul",Y).animate({"margin-left":0},500,g)}),ya(".camera_thumbs_cont .camera_nextThumbs",da).hover(function(){ya(this).stop(!0,!1).animate({opacity:1},250)},function(){ya(this).stop(!0,!1).animate({opacity:.7},250)}),ya(".camera_nextThumbs",da).click(function(){var e=0,a=ya(Y).outerWidth(),t=ya("ul",Y).outerWidth(),i=ya("ul",Y).offset().left,r=ya("> div",Y).offset().left-i;ya(".camera_visThumb",Y).each(function(){var a=ya(this).outerWidth();e+=a}),r+e+e<t?ya("ul",Y).animate({"margin-left":"-"+(r+e)+"px"},500,g):ya("ul",Y).animate({"margin-left":"-"+(t-a)+"px"},500,g)}))}}(jQuery),function(t){t.fn.cameraStop=function(){var a=t(this),e=t(".camera_src",a);a.index();if(e.addClass("stopped"),t(".camera_showcommands").length)t(".camera_thumbs_wrap",a);else;}}(jQuery),function(e){e.fn.cameraPause=function(){var a=e(this);e(".camera_src",a).addClass("paused")}}(jQuery),function(t){t.fn.cameraResume=function(){var a=t(this),e=t(".camera_src",a);"undefined"!=typeof autoAdv&&!0===autoAdv||e.removeClass("paused")}}(jQuery);